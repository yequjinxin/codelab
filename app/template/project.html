{extends}base.html{extends}
{header}
{header}
{content}
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3 col-md-3 col-sm-2 col-xs-1">
            </div>
            <div class="col-lg-6 col-md-6 col-sm-8 col-xs-10">
                <button id="create-pro" type="button" class="btn btn-primary btn-sm float-right">
                    <span class="glyphicon glyphicon-plus"></span> 添加项目
                </button>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-2 col-xs-1">
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-lg-3 col-md-3 col-sm-2 col-xs-1">
            </div>
            <div class="col-lg-6 col-md-6 col-sm-8 col-xs-10">
                
                <?php 
                if (empty($proList)) {
                    echo '<div style="text-align:center;color:#999999;margin-top:50px;"><span>';
                    echo '点击<b>添加项目</b>按钮，开启你的实验之旅^^';
                    echo '</span></div>';
                } else {
                ?>
                <div class="panel panel-default">
                <!-- <div class="panel-heading">项目列表</div> -->
                    <ul class="list-group">
                        <?php foreach ($proList as $k => $v) { ?>
                        <li class="list-group-item data-title">
                            <a href="index.php?a=main&pro_id=<?php echo $v['id']; ?>"><?php echo $v['name'] ?>
                                <span class="float-right-2"><?php echo $this->user['screen_name']; ?></span>
                                <span class="float-right-1"><?php echo substr($v['update_time'], 5); ?></span>
                            </a>
                        </li>
                        <?php } ?>
                    </ul>
                </div>
                <!-- pager-->
                <div>
                    <nav class="data-pager">
                        <ul class="pagination">
                            <?php 
                                if ($pagerInfo['pagerNo'] === 1) {
                                    echo '<li class="disabled"><a href="javascript:void(0)"><span>«</span></a></li>';
                                } else {
                                    echo '<li><a href="index.php?a=project&pager=1"><span>«</span></a></li>';
                                }
                            ?>

                            <?php
                                if ($pagerInfo['prePage'] === 0) {
                                    echo '<li class="disabled"><a href="javascript:void(0)"><span>‹</span></a></li>';
                                } else {
                                    echo '<li><a href="index.php?a=project&pager=' . $pagerInfo['prePage'] . '"><span>‹</span></a></li>';
                                }
                            ?>
                            <?php
                                foreach ($pagerInfo['pagerList'] as $v) {
                                    $classStr = '';
                                    if ($pagerInfo['pagerNo'] === $v) {
                                        $classStr = 'class="active"';
                                    }
                                    echo '<li ' . $classStr . '><a href="index.php?a=project&pager=' . $v . '">'. $v .'</a></li>';
                                }
                            ?>
                            <?php
                                if ($pagerInfo['nextPage'] === 0) {
                                    echo '<li class="disabled"><a href="javascript:void(0)"><span>›</span></a></li>';
                                } else {
                                    echo '<li><a href="index.php?a=project&pager=' . $pagerInfo['nextPage'] . '"><span>›</span></a></li>';
                                }
                            ?>
                            <?php
                                if ($pagerInfo['pagerNo'] === $pagerInfo['totalPages']) {
                                    echo '<li class="disabled"><a href="javascript:void(0)"><span aria-hidden="true">»</span></a></li>';
                                } else {
                                    echo '<li><a href="index.php?a=project&pager=' . $pagerInfo['totalPages'] . '"><span aria-hidden="true">»</span></a></li>';
                                }
                            ?>
                        </ul>
                    </nav>
                </div>
                <?php } ?>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-2 col-xs-1">
            </div>
        </div>
    </div>
    <!-- 项目创建模态框开始 -->
    <div id="modal-create-pro" class="modal fade" data-backdrop="static" data-keyboard="false" style="display:none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">创建项目</h4>
                </div>
                <div class="modal-body">
                    <form id="form-project" action="index.php?a=project" method="post">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <label class="col-sm-2 control-label"><span class="red">*</span>项目名称</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="name" placeholder="请填写项目名称" value="">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label"><span class="red">*</span>项目类型</label>
                                <div class="col-sm-4">
                                    <select name="type" class="form-control">
                                        <option value="html">html</option>
                                        <!-- <option value="nodejs">nodejs</option> -->
                                        <option value="php">php</option>
                                        <!-- <option value="python">python</option> -->
                                        <option value="c">c</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">项目描述</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" name="desc" placeholder="请填写项目描述" value="">
                                </div>
                            </div>
                            <input type="hidden" name="subFlag" value="1">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button id="modal-btn-cancel" type="button" class="btn btn-default">取消</button>
                    <button id="modal-btn-submit" type="button" class="btn btn-primary">确认</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 项目创建模态框结束 -->
{content}

{footer}
    <script>
        requirejs(['baseExc'], function (baseExc) {
            
        });
    </script>
{footer}


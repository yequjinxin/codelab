<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>code_lab</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- weibo -->
    <meta property="wb:webmaster" content="97b13e52588cb9b1" />
    <link rel="shortcut icon" href="public/images/favicon.ico">

    <link href="public/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="public/css/base.css" rel="stylesheet">
    <script src="public/lib/jquery.min.js"></script>
    <script src="public/lib/bootstrap/js/bootstrap.min.js"></script>

    {header}
</head>
<body>
    <nav role="navigation" class="navbar navbar-default navbar-fixed-top nav_transparent_class">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" data-toggle="collapse" data-target="#main-navbar-collapse" class="navbar-toggle collapsed">
                    <span class="sr-only">toogle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a id="data-myword" href="index.php?a=project" class="navbar-brand">code lab</a>
            </div>
            <div id="main-navbar-collapse" class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li <?php if ($controller === 'project') { echo 'class="active"'; } ?>>
                        <a href="index.php?a=project">
                            <span class="glyphicon glyphicon-list"></span> 项目列表
                        </a>
                    </li>
                    <li <?php if ($controller === 'about') { echo 'class="active"'; } ?>>
                        <a href="index.php?a=about">
                            <span class="glyphicon glyphicon-envelope"></span> 关于
                        </a>
                    </li>
                    <?php if (empty($this->user)) { ?>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <span class="glyphicon glyphicon-log-in"></span> 登录  <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="<?php echo $this->loginUrl['weibo']; ?>">微博</a>
                            </li>
                            <li>
                                <a href="#">QQ (开发中)</a>
                            </li>
                            <li>
                                <a href="#">微信 (开发中)</a>
                            </li>
                        </ul>
                    </li>
                    <?php } else { ?>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <!-- <span class="glyphicon glyphicon-cog"></span>  -->
                            <?php echo $this->user['screen_name'] ?>  <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="index.php?c=user&a=logout">登出</a>
                            </li>
                        </ul>
                    </li>
                    <?php } ?>
                </ul>
            </div>
        </div>
    </nav>

    <div class="data-content">
        <?php if (!empty($this->user)) { ?>
        {content}
        <?php } else { ?>
        <div class="tip">
            <span>请先登录^^</span>
        </div>
        <?php } ?>
    </div>

    <footer class="data-footer">
        <p><small>© 2016 - codelab</small></p>
        <p><small>powered by </small><strong class="data-author">ranlau</strong></p>
    </footer>

    <!-- 信息模态框开始 -->
    <div id="modal-msg" class="modal fade" data-backdrop="static" style="margin-top:100px;" data-keyboard="false">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">提示信息</h4>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                    <button id="btn-msg" type="button" class="btn btn-primary">确认</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 信息模态框结束 -->
    <script src="public/lib/require.js"></script>
    <script>
        requirejs.config({
            'baseUrl': 'public/js',
        });
    </scritp>
    {footer}
</body>
</html>